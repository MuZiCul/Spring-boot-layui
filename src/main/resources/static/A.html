<!DOCTYPE html>

<html>
	<head>
      <meta charset="utf-8">
  <title>拖轮申请登记</title>
      <link rel="stylesheet" href="layui/css/layui.css" media="all">
      <link id="layuicss-layer" rel="stylesheet" href="layui/css/modules/layer/default/layer.css?v=3.1.1" media="all">
      <link id="layuicss-laydate" rel="stylesheet" href="layui/css/modules/laydate/default/laydate.css?v=5.0.9" media="all">
</head>

<body>
          
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
  <legend>拖轮申请登记表</legend>
</fieldset>
<form name="form1" class="layui-form" method="post" action="/tug">
  <div class="layui-form-item">
    <div class="layui-inline">
      <label class="layui-form-label"> 申请ID</label>
      <div class="layui-input-block">
        <input type="text" name="TugApplyID" id="TugApplyID" disabled="disabled"  class="layui-input">
      </div>
    </div>

    <div class="layui-inline">
      <label class="layui-form-label">申请日期</label>
      <div class="layui-input-inline">
        <input style="width: 450px" type="text" name="ApplyDte" id="ApplyDte" disabled="disabled"  class="layui-input">
      </div>
    </div>
  </div>

  <div class="layui-form-item">
    <div class="layui-inline">
      <label class="layui-form-label">船名（中文）</label>
      <div class="layui-input-inline">
        <input type="text" name="ShipNameC" id="ShipNameC" autocomplete="off" class="layui-input layui-form-danger">
      </div>

      <div class="layui-inline">
        <label class="layui-form-label">MMSI:</label>
        <div class="layui-input-inline">
          <input type="text" name="MMSI" id="MMSI" autocomplete="off" class="layui-input">
        </div>
      </div>

      <div class="layui-inline">
      <label class="layui-form-label">国籍</label>
      <div class="layui-input-inline">
        <input type="text" name="Nationality" id="Nationality" autocomplete="off" class="layui-input">
      </div>

      <div class="layui-inline">
      <label class="layui-form-label">呼号</label>
      <div class="layui-input-inline">
        <input type="text" name="CallNum" id="CallNum" autocomplete="off" class="layui-input">
      </div>
    </div>
    </div>
    </div>
  </div>

  <div class="layui-form-item">
  <div class="layui-inline">
    <label class="layui-form-label">船名（英文）</label>
    <div class="layui-input-inline">
      <input type="tel" id="ShipNameF" name="ShipNameF" autocomplete="off" class="layui-input">
    </div>
    <div class="layui-inline">
      <label class="layui-form-label">IMO</label>
      <div class="layui-input-inline">
        <input type="text" id="IMO" name="IMO"  autocomplete="off" class="layui-input">
      </div>
    </div>

    <div class="layui-inline">
    <label class="layui-form-label">船舶类型</label>
    <div class="layui-input-inline">
      <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" name="ShipType"  id="ShipType" lay-search="">
        <option value="0">直接选择或搜索选择</option>
        <option value="客货船">客货船</option>
        <option value="普通货船">普通货船</option>
        <option value="集装箱船">集装箱船</option>
        <option value="滚装船">滚装船</option>
        <option value="载驳货船">载驳货船</option>
        <option value="散货船">散货船</option>
        <option value="油船">油船</option>
        <option value="液化气体船">液化气体船</option>
        <option value="兼用船">兼用船</option>
      </select>
    </div>
  </div>

    <div class="layui-inline">
    <div class="layui-inline">
      <label class="layui-form-label">船舶总长（米）</label>
      <div class="layui-input-inline">
        <input type="text" id="ShipLength"name="ShipLength" autocomplete="off" class="layui-input">
      </div>
    </div>
  </div>
  </div>
</div>

  <div class="layui-form-item">
  <div class="layui-inline">
    <label class="layui-form-label">船宽（米）</label>
    <div class="layui-input-inline">
      <input type="number" id="ShipWidth" name="ShipWidth" autocomplete="off" class="layui-input">
    </div>
    <div class="layui-inline">
      <label class="layui-form-label">总吨（吨）</label>
      <div class="layui-input-inline">
        <input type="number" id="TotalTons"name="TotalTons"  autocomplete="off" class="layui-input">
      </div>
    </div>

    <div class="layui-inline">
    <label class="layui-form-label">净重（吨）</label>
    <div class="layui-input-inline">
      <input type="number" id="NetWeight"name="NetWeight"  autocomplete="off" class="layui-input">
    </div> <div class="layui-inline">
    <label class="layui-form-label">载重（吨）</label>
    <div class="layui-input-inline">
      <input type="number" id="Load"name="Load"  autocomplete="off" class="layui-input">
    </div>
  </div>
  </div>
  </div>
</div>

  <div class="layui-form-item">
    <div class="layui-inline">
      <label class="layui-form-label">更新时间</label>
      <div class="layui-input-inline">
        <input type="date"id="datetime" name="datetime" autocomplete="off" class="layui-input">
      </div>
    </div>

    <div class="layui-inline">
    <label class="layui-form-label">是否在港</label>
    <div class="layui-input-inline">
      <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" id="Harbor"name="Harbor">
        <option value="">请选择</option>
        <option value="是">是</option>
        <option value="否">否</option>
      </select>
    </div>
  </div>

    <div class="layui-inline">
      <label class="layui-form-label">船舶航次</label>
      <div class="layui-input-inline">
        <input type="text" id="VesselVoyage"name="VesselVoyage"  autocomplete="off" class="layui-input">
      </div>
    </div>
  </div>

  <div class="layui-form-item">
  <div class="layui-inline">
    <label class="layui-form-label">起运港</label>
    <div class="layui-input-inline">
      <input type="text" id="PortDeparture"name="PortDeparture"  autocomplete="off" class="layui-input layui-form-danger">
    </div>

    <div class="layui-inline">
      <label class="layui-form-label">目的港</label>
      <div class="layui-input-inline">
        <input type="text" id="PortDestination"  name="PortDestination"autocomplete="off" class="layui-input">
      </div>
    </div>

    <div class="layui-inline">
    <label class="layui-form-label">上一港</label>
    <div class="layui-input-inline">
      <input type="text" id="ShangyiPort" name="ShangyiPort"  autocomplete="off" class="layui-input">
    </div>

    <div class="layui-inline">
    <label class="layui-form-label">下一港</label>
    <div class="layui-input-inline">
      <input type="text" id="NextPort"name="NextPort"  autocomplete="off" class="layui-input">
    </div>
  </div>
  </div>
  </div>
</div>

  <div class="layui-inline">
    <label class="layui-form-label">预计抵港时间</label>
    <div class="layui-input-inline">
      <input type="date" name="EstimatedArrival" id="EstimatedArrival"  placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input" lay-key="1">
    </div>
  </div>

  <div class="layui-inline">
    <label class="layui-form-label">预计离港时间</label>
    <div class="layui-input-inline">
      <input type="date" name="EstimatedDeparture" id="EstimatedDeparture"  placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input" lay-key="1">
    </div>
  </div>


    <div class="layui-inline">
      <label class="layui-form-label">预计靠泊时间</label>
      <div class="layui-input-inline">
        <input type="date" name="ExpectedBerthing" id="ExpectedBerthing"  placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input" lay-key="1">
      </div>
    </div>

    <div class="layui-inline">
      <label class="layui-form-label">预计离泊时间</label>
      <div class="layui-input-inline">
        <input type="date" name="ExpectedDeparture" id="ExpectedDeparture"  placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input" lay-key="1">
      </div>
    </div>


  <div class="layui-inline">
    <div class="layui-inline">
      <label class="layui-form-label">内外贸</label>
      <div class="layui-input-inline">
        <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" id="Trade"name="Trade"  lay-search="">
          <option  value="">直接选择或搜索选择</option>
          <option value="内">内</option>
          <option value="外">外</option>
        </select>
      </div>
    </div>
  </div>



  <div class="layui-inline">
    <div class="layui-inline">
      <label class="layui-form-label">进出港</label>
      <div class="layui-input-inline">
        <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" id="Port" name="Port"  lay-search="">
          <option value="">直接选择或搜索选择</option>
          <option value="进港">进港</option>
          <option value="出港">出港</option>
          <option value="移泊">移泊</option>
        </select>
      </div>
    </div>

  <div class="layui-inline">
  <div class="layui-inline">
    <label class="layui-form-label">装卸货</label>
    <div class="layui-input-inline">
      <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;"  id="LoadingUnloading"name="LoadingUnloading"  lay-search="">
        <option  value="">直接选择或搜索选择</option>
        <option value="装货">装货</option>
        <option value="卸货">卸货</option>
      </select>
    </div>
  </div>
</div>

  <div class="layui-inline">
  <label class="layui-form-label">装卸货量（吨）</label>
  <div class="layui-input-inline">
    <input type="number" id="Volume"name="Volume"  autocomplete="off" class="layui-input">
  </div>
</div>
</div>


    <div class="layui-inline">
      <label class="layui-form-label">抵港吃水（米）</label>
      <div class="layui-input-inline">
        <input type="number" placeholder="艏" id="ArrivalDraftO"name="ArrivalDraftO"  autocomplete="off" class="layui-input layui-form-danger">
        <div class="layui-input-inline">
          <input type="number" placeholder="艉" id="ArrivalDraftT" name="ArrivalDraftT"  autocomplete="off" class="layui-input layui-form-danger">
        </div>
      </div>

      <div class="layui-inline">
        <div class="layui-inline">
          <label class="layui-form-label">离港吃水（米）</label>
          <div class="layui-input-inline">
            <input type="number" placeholder="艏" id="DepartureDraftO"name="DepartureDraftO"  autocomplete="off" class="layui-input">
            <div class="layui-input-inline">
              <input type="number" placeholder="艉" id="DepartureDraftT"name="DepartureDraftT"  autocomplete="off" class="layui-input">
            </div>
          </div>
        </div>
      </div>
    </div>


  <div class="layui-inline">
    <div class="layui-inline">
      <label class="layui-form-label">作业区域</label>
      <div class="layui-input-inline">
        <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" id="WorkArea"name="WorkArea"  lay-search="">
          <option value="">直接选择或搜索选择</option>
          <option value="A">A</option>
          <option value="B">B</option>
          <option value="C">C</option>
        </select>
      </div>
    </div>
  </div>

    <div class="layui-inline">
  <div class="layui-inline">
    <label class="layui-form-label">作业泊位</label>
    <div class="layui-input-inline">
      <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" id="WorkBerth"name="WorkBerth"  lay-search="">
        <option value="">直接选择或搜索选择</option>
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
      </select>
    </div>
  </div>
</div>

  <div class="layui-inline">
  <label class="layui-form-label">所需拖轮总数</label>
  <div class="layui-input-inline">
    <input type="number" value="" id="TotalSum" name="TotalSum"  placeholder="0"   autocomplete="off" class="layui-input">
  </div>
</div>

    <div class="layui-inline">
      <div class="layui-inline">
        <label class="layui-form-label">作业内容1</label>
        <div class="layui-input-inline">
          <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" id="WorkContentO" name="WorkContentO"  lay-search="">
            <option  value="">直接选择或搜索选择</option>
            <option value="助靠">助靠</option>
            <option value="助离">助离</option>
          </select>
        </div>
      </div>
    </div>

    <div class="layui-inline">
    <label class="layui-form-label">所需拖轮</label>
    <div class="layui-input-inline">
      <input type="number" id="TugboatRequiredO" name="TugboatRequiredO" placeholder="0"  autocomplete="off" class="layui-input">
    </div>
  </div>

  <div class="layui-inline">
    <div class="layui-inline">
      <label class="layui-form-label">作业内容2</label>
      <div class="layui-input-inline">
        <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" id="WorkContentOT"  name="WorkContentOT"  lay-search="">
          <option value="">直接选择或搜索选择</option>
          <option value="助靠">助靠</option>
          <option value="助离">助离</option>
        </select>
      </div>
    </div>
  </div>

  <div class="layui-inline">
  <label class="layui-form-label">所需拖轮</label>
  <div class="layui-input-inline">
    <input type="number" id="TugboatRequiredT" name="TugboatRequiredT" placeholder="0"  autocomplete="off" class="layui-input">
  </div>
</div>


    <div class="layui-inline">
      <label class="layui-form-label">申请人姓名</label>
      <div class="layui-input-block">
        <input type="text" name="ApplicantName" id="ApplicantName"  autocomplete="off" class="layui-input" lay-key="2">
      </div>
    </div>

    <div class="layui-inline">
      <label class="layui-form-label">申请人单位</label>
      <div class="layui-input-inline">
        <input type="text" id="ApplicantUnit"name="ApplicantUnit"  autocomplete="off" class="layui-input">
      </div>
    </div>


  <div class="layui-inline">
    <label tyle="width: 150px" class="layui-form-label">是否签订包干协议</label>
    <div class="layui-input-inline">
      <select style="height: 37px; border-color: #e6e6e6; padding-left: 7px;" id="AgreeO" name="AgreeO"  lay-search="">
        <option value="">直接选择或搜索选择</option>
        <option value="是">是</option>
        <option value="否">否</option>
      </select>
    </div>
  </div>


    <label class="layui-form-label">协议内容</label>
    <div class="layui-input-block">
      <textarea placeholder="请输入内容" id="Reason"name="Reason" class="layui-textarea"></textarea>
    </div>
</form>
      <button  name="Submit" type="submit" value="提交申请" onClick="return check(form1)"class="layui-btn ">提交申请</button>
<!--      <input name="Submit" type="submit" value="确定" onClick="return check(form1)">-->
      <button  href="javascript:;" onclick="reset()"  class="layui-btn ">重置填写</button>


<script src="layui/layui.js" charset="utf-8"></script>
<script src="jquery-1.8.3.min.js"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>

  document.getElementById("TugApplyID").value=localStorage.getItem("data");
  document.getElementById("ApplyDte").value=new Date();
  console.log("TugApplyID:"+document.getElementById("TugApplyID").value);
  function check(form){
/*
  {TugApplyID:TugApplyID,ApplyDate:ApplyDate,ChineseName:ChineseName,MMSI:MMSI,Nationality:Nationality,EnglishName:EnglishName,CallSign:CallSign,IMO:IMO,ShipTypeCode:ShipTypeCode,Length:Length,Length:Length,ShipWidth:ShipWidth,GrossTon:GrossTon,NetTon:NetTon,DeadWeightTon:DeadWeightTon,UpdateTime:UpdateTime,IsInport:IsInport,IsRespAgree:IsRespAgree,RespAgreeMsg:RespAgreeMsg}
*/
  /*tugapply表*/
  /*var TugApplyID=document.getElementById('qws').value;*/
    var TugApplyID=form.TugApplyID.value;
    var ApplyDate=form.ApplyDte.value;
    var ChineseName=form.ShipNameC.value;
    var MMSI=form.MMSI.value;
    var Nationality=form.Nationality.value;
    var EnglishName=form.ShipNameF.value;
    var CallSign=form.CallNum.value;
    var IMO=form.IMO.value;
    var ShipTypeCode=form.ShipType.value;
    var Length=form.ShipLength.value;
    var ShipWidth=form.ShipWidth.value;
    var GrossTon=form.TotalTons.value;
    var NetTon=form.NetWeight.value;
    var DeadWeightTon=form.Load.value;
    var UpdateTime=form.datetime.value;
    var IsInport=form.Harbor.value;
    var IsRespAgree=form.AgreeO.value;
    var RespAgreeMsg=form.Reason.value;

 /*{VoyageID:VoyageID,StartPort:StartPort,DestPort:DestPort,PrePort:PrePort,NextPort:NextPort,PreArrivalTime:PreArrivalTime,PreDepartTime:PreDepartTime,PlanBerthTime:PlanBerthTime,PlanUnberthTime:PlanUnberthTime,TradeType:TradeType}
 */ /*portregisterinfo*/
    var VoyageID=form.VesselVoyage.value;
    var StartPort=form.PortDeparture.value;
    var DestPort=form.PortDestination.value;
    var PrePort=form.ShangyiPort.value;
    var NextPort=form.NextPort.value;
    var PreArrivalTime=form.EstimatedArrival.value;
    var PreDepartTime=form.EstimatedDeparture.value;
    var PlanBerthTime=form.ExpectedBerthing.value;
    var PlanUnberthTime=form.ExpectedDeparture.value;
    var TradeType=form.Trade.value;

    /*inouttug*/
/*  {TugApplyID:TugApplyID,VoyageID:VoyageID,AboutPort:AboutPort,LoadorUnload:LoadorUnload,CargoTon:CargoTon,ArrivalDraftFront:ArrivalDraftFront,ArrivalDraftBehind:ArrivalDraftBehind,DepartDraftFront:DepartDraftFront,DepartDraftBehind:DepartDraftBehind}
  *//*  var TugApplyID=document.getElementById('ApplyId').value
    var VoyageID=document.getElementById('VesselVoyage').value*/
    var AboutPort=form.Port.value;
    var LoadorUnload=form.LoadingUnloading.value;
    var CargoTon=form.Volume.value;
    var ArrivalDraftFront=form.ArrivalDraftO.value;
    var ArrivalDraftBehind=form.ArrivalDraftT.value;
    var DepartDraftFront=form.DepartureDraftO.value;
    var DepartDraftBehind=form.DepartureDraftT.value;

    /*  {TugApplyID:TugApplyID,VoyageID:VoyageID,OperationArea:OperationArea,OperationBerth:OperationBerth,TugNumberSum:TugNumberSum}
     */ /*  tugapplyoperationinfo*/
/*  var TugApplyID=document.getElementById('ApplyId').value
  var VoyageID=document.getElementById('VesselVoyage').value*/
    var OperationArea=form.WorkArea.value;
    var OperationBerth=form.WorkBerth.value;
    var TugNumberSum=form.TotalSum.value;

/*  tugapplyopecontent
  {TugApplyID:TugApplyID,VoyageID:VoyageID,OperationNameOne:OperationNameOne,TugNumberOne:TugNumberOne,OperationNameTwo:OperationNameTwo,TugNumberTwo:TugNumberTwo}
 var TugApplyID=document.getElementById('ApplyId').value
  var VoyageID=document.getElementById('VesselVoyage').value*/
    var OperationNameOne=form.WorkContentO.value;
    var TugNumberOne=form.TugboatRequiredO.value;
    var OperationNameTwo=form.WorkContentOT.value;
    var TugNumberTwo=form.TugboatRequiredT.value;


  /*tugproposerinfo*/
/*  {TugApplyID:TugApplyID,VoyageID:VoyageID,ProposerName:ProposerName,SACompany:SACompany}*/
/*  var TugApplyID=document.getElementById('ApplyId').value*/
/*  var VoyageID=document.getElementById('VesselVoyage').value*/
    var ProposerName=form.ApplicantName.value;
    var SACompany=form.ApplicantUnit.value;


/*    console.log("TugApplyID:"+TugApplyID,
            "ApplyDate:"+ApplyDate,
            "ChineseName:"+ChineseName,
            "MMSI:"+MMSI,
            "Nationality:"+Nationality,
            "EnglishName:"+EnglishName,
            "CallSign:"+CallSign,
            "IMO:"+IMO,
            "ShipTypeCode:"+ShipTypeCode,
            "Length:"+Length,
            "ShipWidth:"+ShipWidth,
            "GrossTon:"+GrossTon,
            "NetTon:"+NetTon,
            "DeadWeightTon:"+DeadWeightTon,
            "UpdateTime:"+UpdateTime,
            "IsInport:"+IsInport,
            "IsRespAgree:"+IsRespAgree,
            "RespAgreeMsg:"+RespAgreeMsg,
            "VoyageID:"+VoyageID,
            "StartPort:"+StartPort,
            "DestPort:"+DestPort,
            "PrePort:"+PrePort,
            "NextPort:"+NextPort,
            "PreArrivalTime:"+PreArrivalTime,
            "PreDepartTime:"+PreDepartTime,
            "PlanBerthTime:"+PlanBerthTime,
            "PlanUnberthTime:"+PlanUnberthTime,
            "TradeType:"+TradeType,
            "AboutPort:"+AboutPort,
            "LoadorUnload:"+LoadorUnload,
            "CargoTon:"+CargoTon,
            "ArrivalDraftFront:"+ArrivalDraftFront,
            "ArrivalDraftBehind:"+ArrivalDraftBehind,
            "DepartDraftFront:"+DepartDraftFront,
            "DepartDraftBehind:"+DepartDraftBehind,
            "OperationArea:"+OperationArea,
            "OperationBerth:"+OperationBerth,
            "TugNumberSum:"+TugNumberSum,
            "OperationNameOne:"+OperationNameOne,
            "TugNumberOne:"+TugNumberOne,
            "OperationNameTwo:"+OperationNameTwo,
            "TugNumberTwo:"+TugNumberTwo,
            "ProposerName:"+ProposerName,
            "SACompany:"+SACompany);*/
    $.ajax({
      url:'tug',
      data:{TugApplyID:TugApplyID,
        ApplyDate:ApplyDate,
        ChineseName:ChineseName,
        MMSI:MMSI,
        Nationality:Nationality,
        EnglishName:EnglishName,
        CallSign:CallSign,
        IMO:IMO,
        ShipTypeCode:ShipTypeCode,
        Length:Length,
        ShipWidth:ShipWidth,
        GrossTon:GrossTon,
        NetTon:NetTon,
        DeadWeightTon:DeadWeightTon,
        UpdateTime:UpdateTime,
        IsInport:IsInport,
        IsRespAgree:IsRespAgree,
        RespAgreeMsg:RespAgreeMsg,
        VoyageID:VoyageID,
        StartPort:StartPort,
        DestPort:DestPort,
        PrePort:PrePort,
        NextPort:NextPort,
        PreArrivalTime:PreArrivalTime,
        PreDepartTime:PreDepartTime,
        PlanBerthTime:PlanBerthTime,
        PlanUnberthTime:PlanUnberthTime,
        TradeType:TradeType,
        AboutPort:AboutPort,
        LoadorUnload:LoadorUnload,
        CargoTon:CargoTon,
        ArrivalDraftFront:ArrivalDraftFront,
        ArrivalDraftBehind:ArrivalDraftBehind,
        DepartDraftFront:DepartDraftFront,
        DepartDraftBehind:DepartDraftBehind,
        OperationArea:OperationArea,
        OperationBerth:OperationBerth,
        TugNumberSum:TugNumberSum,
        OperationNameOne:OperationNameOne,
        TugNumberOne:TugNumberOne,
        OperationNameTwo:OperationNameTwo,
        TugNumberTwo:TugNumberTwo,
        ProposerName:ProposerName,
        SACompany:SACompany},
      type: 'post',
      dataType: 'json',
      success: function (data) {
        if (data.type == 'success') {
          alert("提交成功！");
        }else if (data.type == 'fail') {
          alert("提交失败，请重试！");
        }else{
          alert("未知错误，请联系管理员处理！");
        }
      }
    });

  }
  function reset() {
    window.parent.location = 'ZJ.html';
  }
</script>

</body></html>