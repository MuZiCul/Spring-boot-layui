<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Layui</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="layui/css/layui.css"  media="all">
	<!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
	<legend>拖轮申请一览表</legend>
<table class="layui-hide" id="test"  lay-filter="test"></table>
<script type="text/html" id="toolbarDemo">
	<div class="layui-btn-container" style="margin-top: 20px;">
		<button class="layui-btn layui-btn-sm" lay-event="shenhe">审核</button>
		<button class="layui-btn layui-btn-sm" lay-event="weishenhe">未审核</button>
		<button class="layui-btn layui-btn-sm" lay-event="weitongguo">未通过</button>
		<button class="layui-btn layui-btn-sm" lay-event="yitongguo">已通过</button>
	</div>
</script>

<script src="layui/layui.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
	layui.use('table', function(){
		var table = layui.table;

		//展示已知数据
		table.render({
			elem: '#test'
			,url:'portlist'
			,title: '用户数据表'
			,totalRow: true
			,toolbar: '#toolbarDemo' //开启头部工具栏，并为其绑定左侧模板
			,cols: [[ //标题栏
				{type: 'checkbox', fixed: 'left'}
				,{field: 'shipname', title: '船名', minwidth: 120, sort: true,totalRowText: '合计'}
				,{field: 'audittime', title: '申请日期', minwidth: 130, sort: true}
				,{field: 'inPort', title: '进出港', minWidth: 90, sort: true}
				,{field: 'area', title: '作业区域及泊位', minWidth: 160}
				,{field: 'mount', title: '拖轮艘数', minwidth: 80, sort: true,totalRow: true}
				,{field: 'applicant', title: '申请人', minwidth: 100, sort: true}
				,{field: 'company', title: '所属船代', minwidth: 100, sort: true}
				,{field: 'state', title: '审核状态', minwidth: 80, sort: true}
				,{field: 'detail', title: '详情', minwidth: 80}
			]]
		});
		//头工具栏事件
		table.on('toolbar(test)', function(obj){
			var checkStatus = table.checkStatus(obj.config.id);
			switch(obj.event){
				case 'shenhe':
/*					var data = checkStatus.data;
					layer.alert(JSON.stringify(data));*/
					layer.alert("审核按钮！");
					break;
				case 'weishenhe':
	/*				var data = checkStatus.data;
					layer.msg('选中了：'+ data.length + ' 个');*/
					layer.alert("未审核按钮！");
					break;
				case 'weitongguo':
		/*			alert(checkStatus.isAll ? '全选': '未全选');
					layer.msg(checkStatus.isAll ? '全选': '未全选');*/
					layer.alert("未通过按钮！");
					break;

					//自定义头工具栏右侧图标 - 提示
				case 'yitongguo':
					//alert("已通过按钮！");
					layer.alert('已通过按钮');
					break;
			};
		});
	});
</script>
</body>
</html>